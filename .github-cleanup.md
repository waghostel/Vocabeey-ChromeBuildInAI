# GitHub Repository Cleanup Plan

## Overview

This document outlines the process to merge `dev` into `main` and prepare a clean public GitHub repository.

## Strategy

Instead of deleting development markdown files, we'll **move them to a `dev-docs/` folder** and add it to `.gitignore` on the main branch only. This keeps:

- `.gitignore` file clean and simple
- Development documentation preserved on dev branch
- Main branch clean for public GitHub

## Files/Folders to Handle

### Development Tools (Remove)

- `.kiro/` - Kiro IDE configuration and specs
- `.amazonq/` - Amazon Q configuration
- `debug/` - Debugging utilities and test files
- `ignore/` - Temporary/ignored documentation

### Development Documentation (Move to dev-docs/)

These are development process documents that will be moved to `dev-docs/` folder:

- `ARTICLE_SEGMENTATION_IMPLEMENTATION.md`
- `BEFORE_AFTER_COMPARISON.md`
- `BUILD_FIX_SUMMARY.md`
- `CARD_CONTEXT_MENU_IMPLEMENTATION.md`
- `CARD_EDIT_DIALOG_IMPLEMENTATION.md`
- `CHINESE_LANGUAGE_SUPPORT.md`
- `CHROME_AI_API_FIX_SUMMARY.md`
- `CHROME_AI_API_NAMESPACES.md`
- `CHROME_AI_USAGE_ANALYSIS.md`
- `CODE_CHANGES.md`
- `CONSOLE_LOGGING_FIX_SUMMARY.md`
- `content-flow-analysis.md`
- `CONTEXT_MENU_FIX.md`
- `CORRECT_API_NAMESPACES.md`
- `diagnose-translation.md`
- `DIAGNOSTIC_IMPLEMENTATION_SUMMARY.md`
- `DISABLE_PARAGRAPH_CONTEXT_MENU_IN_EDIT_MODE.md`
- `DUAL_LANGUAGE_TTS_FEATURE.md`
- `DYNAMIC_TRANSLATION_POPUP_FIX.md`
- `FINAL_FIX_AND_TEST_GUIDE.md`
- `FINAL_FIX_SUMMARY.md`
- `FINAL_IMPLEMENTATION_SUMMARY.md`
- `FIX_COMPLETE_SUMMARY.md`
- `HAMBURGER_MENU_IMPLEMENTATION.md`
- `HAMBURGER_MENU_VISUAL_GUIDE.md`
- `HIGHLIGHT_RESTORATION_IMPLEMENTATION.md`
- `IMPLEMENTATION_COMPLETE.md`
- `IMPLEMENTATION_SUMMARY.md`
- `KEYBOARD_SHORTCUTS_SUMMARY.md`
- `LANGUAGE_BADGE_VISUAL_REFERENCE.md`
- `LANGUAGE_DETECTION_*.md` (all language detection docs)
- `LANGUAGE_SELECTOR_IMPLEMENTATION.md`
- `MEMORY_OPTIMIZATION_*.md` (all memory optimization docs)
- `OFFSCREEN_DOCUMENT_*.md` (all offscreen document docs)
- `ONBOARDING_WIZARD_*.md` (all onboarding wizard docs)
- `OVERLAPPING_HIGHLIGHTS_FEATURE.md`
- `PARAGRAPH_EDIT_FEATURE.md`
- `QUICK_DIAGNOSTIC_REFERENCE.md`
- `README_DOCUMENTATION.md`
- `reload-extension.md`
- `REMOVE_EDIT_FROM_HIGHLIGHT_CONTEXT_MENU.md`
- `RETRY_MECHANISM_COMPARISON.md`
- `SAME_LANGUAGE_TRANSLATION_FIX.md`
- `SEGMENTATION_DIAGNOSTIC_GUIDE.md`
- `SENTENCE_CLICK_TO_PRONOUNCE_IMPLEMENTATION.md`
- `SERVICE_WORKER_IMPORT_FIX.md`
- `SMART_CONTEXT_IMPLEMENTATION.md`
- `test-report.md`
- `TESTING_GUIDE_TRANSLATION_FIX.md`
- `TESTING_HAMBURGER_MENU.md`
- `TRANSLATION_*.md` (all translation implementation docs)
- `TTS_*.md` (all TTS implementation docs)
- `VOCABULARY_TRANSLATION_*.md`
- `youtube transcript.md`

### Test/Demo Files (Remove)

- `test-language-detection-api.html`
- `test-page.html`
- `hamburger-menu-demo.html`
- `demo-page.html`
- `demo-page/` folder
- `prompt-api-test/` folder

### Configuration Files (Remove)

- `mcp-config.json` - MCP server configuration
- `eslint-output.json` - Linting output
- `vitest.config.d.ts*` - Generated type files

## Files to KEEP on GitHub (Essential for users)

### Core Documentation

- `README.md` - Main project documentation
- `QUICK_START.md` - Getting started guide
- `QUICK_REFERENCE.md` - Quick reference
- `FEATURE_GUIDE.md` - Feature documentation
- `USAGE_EXAMPLES.md` - Usage examples
- `TESTING_GUIDE.md` - Testing instructions
- `TESTING_CHECKLIST.md` - Testing checklist
- `DEPLOYMENT_CHECKLIST.md` - Deployment guide

### Architecture Documentation

- `CHROME_AI_ARCHITECTURE.md` - Architecture overview
- `CHROME_AI_QUICK_REFERENCE.md` - API reference
- `CONTEXT_MENU_GUIDE.md` - Context menu guide
- `ARTICLE_SEGMENTATION_USER_GUIDE.md` - User guide

### Structured Documentation

- `docs/` - All structured documentation
- `user-need/` - User requirements and roadmap

### Source Code & Configuration

- `src/` - Source code
- `assets/` - Static assets
- `icons/` - Extension icons
- `scripts/` - Build scripts
- `tests/` - Test files
- `manifest.json` - Extension manifest
- `package.json` - Dependencies
- `pnpm-lock.yaml` - Lock file
- `tsconfig.json` - TypeScript config
- `vitest.config.ts` - Test config
- `eslint.config.js` - ESLint config
- `.prettierrc` - Prettier config
- `.prettierignore` - Prettier ignore
- `.gitignore` - Git ignore
- `.gitattributes` - Git attributes

## Execution Steps

### Step 1: Commit current dev state

Ensure all dev work is committed.

### Step 2: Switch to main and merge

```bash
git checkout main
git merge dev
```

### Step 3: Run cleanup script

```bash
# This creates dev-docs/ and moves markdown files
node scripts/cleanup-for-github.js
```

### Step 4: Add dev-docs/ to .gitignore (main branch only)

```bash
echo dev-docs/ >> .gitignore
```

### Step 5: Commit cleanup

```bash
git add -A
git commit -m "chore: clean up repository for public release"
```

### Step 6: Push to GitHub

```bash
git push origin main
```

### Step 7: Switch back to dev

```bash
git checkout dev
```

### Step 8: Remove dev-docs/ from .gitignore (dev branch)

```bash
# Edit .gitignore and remove the "dev-docs/" line
# This ensures dev-docs/ is tracked on dev branch
git add .gitignore
git commit -m "chore: keep dev-docs tracked on dev branch"
```

## Visual Overview

```
BEFORE CLEANUP (dev branch)
├── .kiro/                          [Remove]
├── .amazonq/                       [Remove]
├── debug/                          [Remove]
├── ignore/                         [Remove]
├── src/                            [Keep]
├── docs/                           [Keep]
├── README.md                       [Keep]
├── IMPLEMENTATION_*.md (70+ files) [Move to dev-docs/]
├── test-*.html                     [Remove]
└── ...

AFTER CLEANUP (main branch)
├── dev-docs/                       [Hidden via .gitignore]
│   └── All dev markdown files
├── src/                            [Kept]
├── docs/                           [Kept]
├── README.md                       [Kept]
└── .gitignore                      [Updated: +dev-docs/]

AFTER CLEANUP (dev branch)
├── dev-docs/                       [Tracked and visible]
│   └── All dev markdown files
├── src/                            [Kept]
├── docs/                           [Kept]
├── README.md                       [Kept]
└── .gitignore                      [Original: no dev-docs/]
```

## Key Benefits

1. **Clean .gitignore**: Only one line added (`dev-docs/`) instead of 70+ individual files
2. **Preserved Documentation**: All dev docs remain accessible on dev branch in organized folder
3. **Easy Maintenance**: Future dev docs just go in `dev-docs/` folder
4. **Branch-Specific Behavior**: Same folder tracked on dev, ignored on main

## Notes

- The `dev` branch keeps all development files in `dev-docs/` folder
- The `main` branch has `dev-docs/` in `.gitignore` so it won't be pushed to GitHub
- Only `main` branch is pushed to GitHub (origin)
- GitLab (gitlab remote) can keep both branches with full history
