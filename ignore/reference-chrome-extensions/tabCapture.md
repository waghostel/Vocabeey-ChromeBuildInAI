Title: chrome.tabCapture

URL Source: https://developer.chrome.com/docs/extensions/reference/api/tabCapture

Markdown Content:
chrome.tabCapture | API | Chrome for Developers

===============
[Skip to main content](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#main-content)

[![Image 1: Chrome for Developers](https://www.gstatic.com/devrel-devsite/prod/v90b15eef664021f94a1ab8a4ca14c533325a9006d6183b165fb79714a6fcd6a0/chrome/images/lockup.svg)](https://developer.chrome.com/)

[Docs](https://developer.chrome.com/docs)

- Build with Chrome
- Learn how Chrome works, participate in origin trials, and build with Chrome everywhere.
- [Web Platform](https://developer.chrome.com/docs/web-platform)
- [Capabilities](https://developer.chrome.com/docs/capabilities)
- [ChromeDriver](https://developer.chrome.com/docs/chromedriver)
- [Extensions](https://developer.chrome.com/docs/extensions)
- [Chrome Web Store](https://developer.chrome.com/docs/webstore)
- [Chromium](https://developer.chrome.com/docs/chromium)
- [Aurora](https://developer.chrome.com/docs/aurora)
- [Web on Android](https://developer.chrome.com/docs/android)
- [Origin trials](https://developer.chrome.com/origintrials/)
- [Release notes](https://developer.chrome.com/release-notes)

- Productivity
- Create the best experience for your users with the web's best tools.
- [DevTools](https://developer.chrome.com/docs/devtools)
- [Lighthouse](https://developer.chrome.com/docs/lighthouse)
- [Chrome UX Report](https://developer.chrome.com/docs/crux)
- [Accessibility](https://developer.chrome.com/docs/accessibility)

- Get things done quicker and neater, with our ready-made libraries.
- [Workbox](https://developer.chrome.com/docs/workbox)
- [Puppeteer](https://developer.chrome.com/docs/puppeteer)

- Experience
- Design a beautiful and performant web with Chrome.
- [AI](https://developer.chrome.com/docs/ai)
- [Performance](https://developer.chrome.com/docs/performance)
- [CSS and UI](https://developer.chrome.com/docs/css-ui)
- [Identity](https://developer.chrome.com/docs/identity)
- [Payments](https://developer.chrome.com/docs/payments)
- [Privacy and security](https://developer.chrome.com/docs/privacy-security)

- Resources
- More from Chrome and Google.
- [All documentation](https://developer.chrome.com/docs)
- [Baseline](https://web.dev/baseline)
- [web.dev](https://web.dev/)
- [PageSpeed Insights audit](https://pagespeed.web.dev/)
- [The Privacy Sandbox](https://developers.google.com/privacy-sandbox)
- [Isolated Web Apps (IWA)](https://developer.chrome.com/docs/iwa)

More

[Case studies](https://developer.chrome.com/case-studies)[Blog](https://developer.chrome.com/blog)[New in Chrome](https://developer.chrome.com/new)

/

- [English](https://developer.chrome.com/docs/extensions/reference/api/tabCapture)
- [Deutsch](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=de)
- [Español – América Latina](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=es-419)
- [Français](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=fr)
- [Indonesia](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=id)
- [Italiano](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=it)
- [Nederlands](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=nl)
- [Polski](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=pl)
- [Português – Brasil](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=pt-br)
- [Tiếng Việt](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=vi)
- [Türkçe](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=tr)
- [Русский](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ru)
- [עברית](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=he)
- [العربيّة](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ar)
- [فارسی](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=fa)
- [हिंदी](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=hi)
- [বাংলা](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=bn)
- [ภาษาไทย](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=th)
- [中文 – 简体](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=zh-cn)
- [中文 – 繁體](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=zh-tw)
- [日本語](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ja)
- [한국어](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ko)

Sign in

- [Chrome Extensions](https://developer.chrome.com/docs/extensions)
- [Reference](https://developer.chrome.com/docs/extensions/reference)
- [API](https://developer.chrome.com/docs/extensions/reference/api)

[Overview](https://developer.chrome.com/docs/extensions)[Get Started](https://developer.chrome.com/docs/extensions/get-started)[Develop](https://developer.chrome.com/docs/extensions/develop)[How To](https://developer.chrome.com/docs/extensions/how-to)[AI](https://developer.chrome.com/docs/extensions/ai)[Reference](https://developer.chrome.com/docs/extensions/reference)

- [API](https://developer.chrome.com/docs/extensions/reference/api)
- [Permissions](https://developer.chrome.com/docs/extensions/reference/permissions-list)
- [Manifest](https://developer.chrome.com/docs/extensions/reference/manifest)

[Samples](https://developer.chrome.com/docs/extensions/samples)[Chrome Web Store](https://developer.chrome.com/docs/webstore)

- [Prepare your Extension](https://developer.chrome.com/docs/webstore/prepare)
- [Publish in the Chrome Web Store](https://developer.chrome.com/docs/webstore/publish)
- [Program Policies](https://developer.chrome.com/docs/webstore/program-policies)

More

[![Image 2: Chrome for Developers](https://www.gstatic.com/devrel-devsite/prod/v90b15eef664021f94a1ab8a4ca14c533325a9006d6183b165fb79714a6fcd6a0/chrome/images/lockup.svg)](https://developer.chrome.com/)

- [Docs](https://developer.chrome.com/docs)
  - More

  - [Overview](https://developer.chrome.com/docs/extensions)
  - [Get Started](https://developer.chrome.com/docs/extensions/get-started)
  - [Develop](https://developer.chrome.com/docs/extensions/develop)
  - [How To](https://developer.chrome.com/docs/extensions/how-to)
  - [AI](https://developer.chrome.com/docs/extensions/ai)
  - [Reference](https://developer.chrome.com/docs/extensions/reference)
    - More

  - [Samples](https://developer.chrome.com/docs/extensions/samples)
  - [Chrome Web Store](https://developer.chrome.com/docs/webstore)
    - More

- [Case studies](https://developer.chrome.com/case-studies)
- [Blog](https://developer.chrome.com/blog)
- [New in Chrome](https://developer.chrome.com/new)

- Manifest V3
- [➡ Manifest V2](https://developer.chrome.com/docs/extensions/mv2/reference)
- [accessibilityFeatures](https://developer.chrome.com/docs/extensions/reference/api/accessibilityFeatures)
- [action](https://developer.chrome.com/docs/extensions/reference/api/action)
- [alarms](https://developer.chrome.com/docs/extensions/reference/api/alarms)
- [audio](https://developer.chrome.com/docs/extensions/reference/api/audio)
- [bookmarks](https://developer.chrome.com/docs/extensions/reference/api/bookmarks)
- [browsingData](https://developer.chrome.com/docs/extensions/reference/api/browsingData)
- [certificateProvider](https://developer.chrome.com/docs/extensions/reference/api/certificateProvider)
- [commands](https://developer.chrome.com/docs/extensions/reference/api/commands)
- [contentSettings](https://developer.chrome.com/docs/extensions/reference/api/contentSettings)
- [contextMenus](https://developer.chrome.com/docs/extensions/reference/api/contextMenus)
- [cookies](https://developer.chrome.com/docs/extensions/reference/api/cookies)
- [debugger](https://developer.chrome.com/docs/extensions/reference/api/debugger)
- [declarativeContent](https://developer.chrome.com/docs/extensions/reference/api/declarativeContent)
- [declarativeNetRequest](https://developer.chrome.com/docs/extensions/reference/api/declarativeNetRequest)
- [desktopCapture](https://developer.chrome.com/docs/extensions/reference/api/desktopCapture)
- [devtools.inspectedWindow](https://developer.chrome.com/docs/extensions/reference/api/devtools/inspectedWindow)
- [devtools.network](https://developer.chrome.com/docs/extensions/reference/api/devtools/network)
- [devtools.panels](https://developer.chrome.com/docs/extensions/reference/api/devtools/panels)
- [devtools.performance](https://developer.chrome.com/docs/extensions/reference/api/devtools/performance)
- [devtools.recorder](https://developer.chrome.com/docs/extensions/reference/api/devtools/recorder)
- [dns](https://developer.chrome.com/docs/extensions/reference/api/dns)
- [documentScan](https://developer.chrome.com/docs/extensions/reference/api/documentScan)
- [dom](https://developer.chrome.com/docs/extensions/reference/api/dom)
- [downloads](https://developer.chrome.com/docs/extensions/reference/api/downloads)
- [enterprise.deviceAttributes](https://developer.chrome.com/docs/extensions/reference/api/enterprise/deviceAttributes)
- [enterprise.hardwarePlatform](https://developer.chrome.com/docs/extensions/reference/api/enterprise/hardwarePlatform)
- [enterprise.login](https://developer.chrome.com/docs/extensions/reference/api/enterprise/login)
- [enterprise.networkingAttributes](https://developer.chrome.com/docs/extensions/reference/api/enterprise/networkingAttributes)
- [enterprise.platformKeys](https://developer.chrome.com/docs/extensions/reference/api/enterprise/platformKeys)
- [events](https://developer.chrome.com/docs/extensions/reference/api/events)
- [extension](https://developer.chrome.com/docs/extensions/reference/api/extension)
- [extensionTypes](https://developer.chrome.com/docs/extensions/reference/api/extensionTypes)
- [fileBrowserHandler](https://developer.chrome.com/docs/extensions/reference/api/fileBrowserHandler)
- [fileSystemProvider](https://developer.chrome.com/docs/extensions/reference/api/fileSystemProvider)
- [fontSettings](https://developer.chrome.com/docs/extensions/reference/api/fontSettings)
- [gcm](https://developer.chrome.com/docs/extensions/reference/api/gcm)
- [history](https://developer.chrome.com/docs/extensions/reference/api/history)
- [i18n](https://developer.chrome.com/docs/extensions/reference/api/i18n)
- [identity](https://developer.chrome.com/docs/extensions/reference/api/identity)
- [idle](https://developer.chrome.com/docs/extensions/reference/api/idle)
- [input.ime](https://developer.chrome.com/docs/extensions/reference/api/input/ime)
- [instanceID](https://developer.chrome.com/docs/extensions/reference/api/instanceID)
- [loginState](https://developer.chrome.com/docs/extensions/reference/api/loginState)
- [management](https://developer.chrome.com/docs/extensions/reference/api/management)
- [notifications](https://developer.chrome.com/docs/extensions/reference/api/notifications)
- [offscreen](https://developer.chrome.com/docs/extensions/reference/api/offscreen)
- [omnibox](https://developer.chrome.com/docs/extensions/reference/api/omnibox)
- [pageCapture](https://developer.chrome.com/docs/extensions/reference/api/pageCapture)
- [permissions](https://developer.chrome.com/docs/extensions/reference/api/permissions)
- [platformKeys](https://developer.chrome.com/docs/extensions/reference/api/platformKeys)
- [power](https://developer.chrome.com/docs/extensions/reference/api/power)
- [printerProvider](https://developer.chrome.com/docs/extensions/reference/api/printerProvider)
- [printing](https://developer.chrome.com/docs/extensions/reference/api/printing)
- [printingMetrics](https://developer.chrome.com/docs/extensions/reference/api/printingMetrics)
- [privacy](https://developer.chrome.com/docs/extensions/reference/api/privacy)
- [processes](https://developer.chrome.com/docs/extensions/reference/api/processes)
- [proxy](https://developer.chrome.com/docs/extensions/reference/api/proxy)
- [readingList](https://developer.chrome.com/docs/extensions/reference/api/readingList)
- [runtime](https://developer.chrome.com/docs/extensions/reference/api/runtime)
- [scripting](https://developer.chrome.com/docs/extensions/reference/api/scripting)
- [search](https://developer.chrome.com/docs/extensions/reference/api/search)
- [sessions](https://developer.chrome.com/docs/extensions/reference/api/sessions)
- [side Panel](https://developer.chrome.com/docs/extensions/reference/api/sidePanel)
- [storage](https://developer.chrome.com/docs/extensions/reference/api/storage)
- [system.cpu](https://developer.chrome.com/docs/extensions/reference/api/system/cpu)
- [system.display](https://developer.chrome.com/docs/extensions/reference/api/system/display)
- [system.memory](https://developer.chrome.com/docs/extensions/reference/api/system/memory)
- [system.storage](https://developer.chrome.com/docs/extensions/reference/api/system/storage)
- [system Log](https://developer.chrome.com/docs/extensions/reference/api/systemLog)
- [tab Capture](https://developer.chrome.com/docs/extensions/reference/api/tabCapture)
- [tab Groups](https://developer.chrome.com/docs/extensions/reference/api/tabGroups)
- [tabs](https://developer.chrome.com/docs/extensions/reference/api/tabs)
- [top Sites](https://developer.chrome.com/docs/extensions/reference/api/topSites)
- [tts](https://developer.chrome.com/docs/extensions/reference/api/tts)
- [tts Engine](https://developer.chrome.com/docs/extensions/reference/api/ttsEngine)
- [types](https://developer.chrome.com/docs/extensions/reference/api/types)
- [user Scripts](https://developer.chrome.com/docs/extensions/reference/api/userScripts)
- [vpn Provider](https://developer.chrome.com/docs/extensions/reference/api/vpnProvider)
- [wallpaper](https://developer.chrome.com/docs/extensions/reference/api/wallpaper)
- [web Authentication Proxy](https://developer.chrome.com/docs/extensions/reference/api/webAuthenticationProxy)
- [webNavigation](https://developer.chrome.com/docs/extensions/reference/api/webNavigation)
- [webRequest](https://developer.chrome.com/docs/extensions/reference/api/webRequest)
- [windows](https://developer.chrome.com/docs/extensions/reference/api/windows)

- Build with Chrome
- [Web Platform](https://developer.chrome.com/docs/web-platform)
- [Capabilities](https://developer.chrome.com/docs/capabilities)
- [ChromeDriver](https://developer.chrome.com/docs/chromedriver)
- [Extensions](https://developer.chrome.com/docs/extensions)
- [Chrome Web Store](https://developer.chrome.com/docs/webstore)
- [Chromium](https://developer.chrome.com/docs/chromium)
- [Aurora](https://developer.chrome.com/docs/aurora)
- [Web on Android](https://developer.chrome.com/docs/android)
- [Origin trials](https://developer.chrome.com/origintrials/)
- [Release notes](https://developer.chrome.com/release-notes)
- Productivity
- [DevTools](https://developer.chrome.com/docs/devtools)
- [Lighthouse](https://developer.chrome.com/docs/lighthouse)
- [Chrome UX Report](https://developer.chrome.com/docs/crux)
- [Accessibility](https://developer.chrome.com/docs/accessibility)
- [Workbox](https://developer.chrome.com/docs/workbox)
- [Puppeteer](https://developer.chrome.com/docs/puppeteer)
- Experience
- [AI](https://developer.chrome.com/docs/ai)
- [Performance](https://developer.chrome.com/docs/performance)
- [CSS and UI](https://developer.chrome.com/docs/css-ui)
- [Identity](https://developer.chrome.com/docs/identity)
- [Payments](https://developer.chrome.com/docs/payments)
- [Privacy and security](https://developer.chrome.com/docs/privacy-security)
- Resources
- [All documentation](https://developer.chrome.com/docs)
- [Baseline](https://web.dev/baseline)
- [web.dev](https://web.dev/)
- [PageSpeed Insights audit](https://pagespeed.web.dev/)
- [The Privacy Sandbox](https://developers.google.com/privacy-sandbox)
- [Isolated Web Apps (IWA)](https://developer.chrome.com/docs/iwa)

- [API](https://developer.chrome.com/docs/extensions/reference/api)
- [Permissions](https://developer.chrome.com/docs/extensions/reference/permissions-list)
- [Manifest](https://developer.chrome.com/docs/extensions/reference/manifest)

- [Prepare your Extension](https://developer.chrome.com/docs/webstore/prepare)
- [Publish in the Chrome Web Store](https://developer.chrome.com/docs/webstore/publish)
- [Program Policies](https://developer.chrome.com/docs/webstore/program-policies)

- On this page
- [Description](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#description)
- [Permissions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#permissions)
- [Concepts and usage](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#concepts_and_usage)
  - [Preserve system audio](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#preserving-system-audio)
  - [Stream IDs](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#stream-ids)
  - [Usage restrictions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#usage-restrictions)
  - [Learn more](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#learn-more)

- [Types](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type)
  - [CaptureInfo](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureInfo)
  - [CaptureOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureOptions)
  - [GetMediaStreamOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-GetMediaStreamOptions)
  - [MediaStreamConstraint](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-MediaStreamConstraint)
  - [TabCaptureState](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-TabCaptureState)

- [Methods](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method)
  - [capture()](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-capture)
  - [getCapturedTabs()](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-getCapturedTabs)
  - [getMediaStreamId()](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-getMediaStreamId)

- [Events](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#event)
  - [onStatusChanged](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#event-onStatusChanged)

- [Home](https://developer.chrome.com/)
- [Docs](https://developer.chrome.com/docs)
- [Chrome Extensions](https://developer.chrome.com/docs/extensions)
- [Reference](https://developer.chrome.com/docs/extensions/reference)
- [API](https://developer.chrome.com/docs/extensions/reference/api)

chrome.tab Capture

# bookmark_border bookmark Stay organized with collections Save and categorize content based on your preferences.

- On this page
- [Description](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#description)
- [Permissions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#permissions)
- [Concepts and usage](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#concepts_and_usage)
  - [Preserve system audio](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#preserving-system-audio)
  - [Stream IDs](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#stream-ids)
  - [Usage restrictions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#usage-restrictions)
  - [Learn more](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#learn-more)

- [Types](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type)
  - [CaptureInfo](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureInfo)
  - [CaptureOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureOptions)
  - [GetMediaStreamOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-GetMediaStreamOptions)
  - [MediaStreamConstraint](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-MediaStreamConstraint)
  - [TabCaptureState](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-TabCaptureState)

- [Methods](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method)
  - [capture()](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-capture)
  - [getCapturedTabs()](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-getCapturedTabs)
  - [getMediaStreamId()](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-getMediaStreamId)

- [Events](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#event)
  - [onStatusChanged](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#event-onStatusChanged)

## Description

Use the `chrome.tabCapture` API to interact with tab media streams.

## Permissions

`tabCapture`

## Concepts and usage

The chrome.tabCapture API lets you access a [`MediaStream`](https://developer.mozilla.org/docs/Web/API/MediaStream) containing video and audio of the current tab. It can only be called after the user invokes an extension, such as by clicking the extension's [action button](https://developer.chrome.com/docs/extensions/develop#actions). This is similar to the behavior of the [`"activeTab"`](https://developer.chrome.com/docs/extensions/develop/concepts/activeTab) permission.

### Preserve system audio

When a [`MediaStream`](https://developer.mozilla.org/docs/Web/API/MediaStream) is obtained for a tab, audio in that tab will no longer be played to the user. This is similar to the behavior of the [`getDisplayMedia()`](https://developer.mozilla.org/docs/Web/API/MediaDevices/getDisplayMedia) function when the [`suppressLocalAudioPlayback`](https://developer.mozilla.org/docs/Web/API/MediaTrackSupportedConstraints/suppressLocalAudioPlayback) flag is set to true.

To continue playing audio to the user, use the following:

```
const output = new AudioContext();
const source = output.createMediaStreamSource(stream);
source.connect(output.destination);
```

This creates a new `AudioContext` and connects the audio of the tab's `MediaStream` to the default destination.

### Stream IDs

Calling [`chrome.tabCapture.getMediaStreamId()`](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-getMediaStreamId) will return a stream ID. To later access a [`MediaStream`](https://developer.mozilla.org/docs/Web/API/MediaStream) from the ID, use the following:

```
navigator.mediaDevices.getUserMedia({
  audio: {
    mandatory: {
      chromeMediaSource: "tab",
      chromeMediaSourceId: id,
    },
  },
  video: {
    mandatory: {
      chromeMediaSource: "tab",
      chromeMediaSourceId: id,
    },
  },
});
```

### Usage restrictions

After calling [`getMediaStreamId()`](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#method-getMediaStreamId), there are restrictions on where the returned stream ID can be used:

- If `consumerTabId` is specified, the ID can be used by a `getUserMedia()` call in any frame in the given tab which has the same security origin.
- When this is not specified, beginning in Chrome 116, the ID can be used in any frame with the same security origin in the same render process as the caller. This means that a stream ID obtained in a service worker can be used in an [offscreen document](https://developer.chrome.com/docs/extensions/reference/api/offscreen).

Prior to Chrome 116, when a `consumerTabId` was not specified, the stream ID was restricted to both the security origin, render process and render frame of the caller.

### Learn more

To learn more about how to use the `chrome.tabCapture` API, see [Audio recording and screen capture](https://developer.chrome.com/docs/extensions/how-to/web-platform/screen-capture). This demonstrates how to use `tabCapture` and related APIs to solve a number of common use cases.

## Types

### CaptureInfo

#### Properties

- fullscreen boolean  
  Whether an element in the tab being captured is in fullscreen mode.

- status [TabCaptureState](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-TabCaptureState)  
  The new capture status of the tab.

- tabId number  
  The id of the tab whose status changed.

### CaptureOptions

#### Properties

- audio boolean optional
- audioConstraints [MediaStreamConstraint](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-MediaStreamConstraint)optional
- video boolean optional
- videoConstraints [MediaStreamConstraint](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-MediaStreamConstraint)optional

### GetMediaStreamOptions

Chrome 71+

#### Properties

- consumerTabId number optional  
  Optional tab id of the tab which will later invoke `getUserMedia()` to consume the stream. If not specified then the resulting stream can be used only by the calling extension. The stream can only be used by frames in the given tab whose security origin matches the consumber tab's origin. The tab's origin must be a secure origin, e.g. HTTPS.

- targetTabId number optional  
  Optional tab id of the tab which will be captured. If not specified then the current active tab will be selected. Only tabs for which the extension has been granted the `activeTab` permission can be used as the target tab.

### MediaStreamConstraint

#### Properties

- mandatory object
- optional object optional

### TabCaptureState

#### Enum

"pending"

"active"

"stopped"

"error"

## Methods

### capture()

Foreground only

chrome.tabCapture.capture(

  options: [CaptureOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureOptions),

  callback: function,

): void
Captures the visible area of the currently active tab. Capture can only be started on the currently active tab after the extension has been _invoked_, similar to the way that [activeTab](https://developer.chrome.com/docs/extensions/activeTab#invoking-activeTab) works. Capture is maintained across page navigations within the tab, and stops when the tab is closed, or the media stream is closed by the extension.

#### Parameters

- options [CaptureOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureOptions)  
  Configures the returned media stream.

- callback function  
  The `callback` parameter looks like:

(stream: LocalMediaStream)=> void

    *   stream LocalMediaStream

### getCapturedTabs()

chrome.tabCapture.getCapturedTabs(): Promise<[CaptureInfo](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureInfo)[]>
Returns a list of tabs that have requested capture or are being captured, i.e. status != stopped and status != error. This allows extensions to inform the user that there is an existing tab capture that would prevent a new tab capture from succeeding (or to prevent redundant requests for the same tab).

#### Returns

- Promise<[CaptureInfo](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureInfo)[]> Chrome 116+

### getMediaStreamId()

Chrome 71+

chrome.tabCapture.getMediaStreamId(

  options?: [GetMediaStreamOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-GetMediaStreamOptions),

): Promise<string>
Creates a stream ID to capture the target tab. Similar to chrome.tabCapture.capture() method, but returns a media stream ID, instead of a media stream, to the consumer tab.

#### Parameters

- options [GetMediaStreamOptions](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-GetMediaStreamOptions)optional

#### Returns

- Promise<string> Chrome 116+

## Events

### onStatusChanged

chrome.tabCapture.onStatusChanged.addListener(

  callback: function,

)
Event fired when the capture status of a tab changes. This allows extension authors to keep track of the capture status of tabs to keep UI elements like page actions in sync.

#### Parameters

- callback function  
  The `callback` parameter looks like:

(info: [CaptureInfo](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureInfo))=> void

    *   info [CaptureInfo](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#type-CaptureInfo)

Except as otherwise noted, the content of this page is licensed under the [Creative Commons Attribution 4.0 License](https://creativecommons.org/licenses/by/4.0/), and code samples are licensed under the [Apache 2.0 License](https://www.apache.org/licenses/LICENSE-2.0). For details, see the [Google Developers Site Policies](https://developers.google.com/site-policies). Java is a registered trademark of Oracle and/or its affiliates.

Last updated 2025-08-11 UTC.

[[["Easy to understand","easyToUnderstand","thumb-up"],["Solved my problem","solvedMyProblem","thumb-up"],["Other","otherUp","thumb-up"]],[["Missing the information I need","missingTheInformationINeed","thumb-down"],["Too complicated / too many steps","tooComplicatedTooManySteps","thumb-down"],["Out of date","outOfDate","thumb-down"],["Samples / code issue","samplesCodeIssue","thumb-down"],["Other","otherDown","thumb-down"]],["Last updated 2025-08-11 UTC."],[],[]]

- ### Contribute
  - [File a bug](https://issuetracker.google.com/issues/new?component=1400036&template=1897236)
  - [See open issues](https://issuetracker.google.com/issues?q=status:open%20componentid:1400036&s=created_time:desc)

- ### Related content
  - [Chromium updates](https://blog.chromium.org/)
  - [Case studies](https://developer.chrome.com/case-studies)
  - [Archive](https://developer.chrome.com/deprecated)
  - [Podcasts & shows](https://web.dev/shows)

- ### Follow
  - [@ChromiumDev on X](https://twitter.com/ChromiumDev)
  - [YouTube](https://www.youtube.com/user/ChromeDevelopers)
  - [Chrome for Developers on LinkedIn](https://www.linkedin.com/showcase/chrome-for-developers)
  - [RSS](https://developer.chrome.com/static/blog/feed.xml)

- [Terms](https://policies.google.com/terms)
- [Privacy](https://policies.google.com/privacy)
- [Manage cookies](https://developer.chrome.com/docs/extensions/reference/api/tabCapture#)

- [English](https://developer.chrome.com/docs/extensions/reference/api/tabCapture)
- [Deutsch](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=de)
- [Español – América Latina](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=es-419)
- [Français](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=fr)
- [Indonesia](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=id)
- [Italiano](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=it)
- [Nederlands](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=nl)
- [Polski](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=pl)
- [Português – Brasil](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=pt-br)
- [Tiếng Việt](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=vi)
- [Türkçe](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=tr)
- [Русский](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ru)
- [עברית](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=he)
- [العربيّة](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ar)
- [فارسی](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=fa)
- [हिंदी](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=hi)
- [বাংলা](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=bn)
- [ภาษาไทย](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=th)
- [中文 – 简体](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=zh-cn)
- [中文 – 繁體](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=zh-tw)
- [日本語](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ja)
- [한국어](https://developer.chrome.com/docs/extensions/reference/api/tabCapture?hl=ko)
