Title: chrome.platformKeys

URL Source: https://developer.chrome.com/docs/extensions/reference/api/platformKeys

Markdown Content:
[Skip to main content](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#main-content)

- [Docs](https://developer.chrome.com/docs)
  - [Overview](https://developer.chrome.com/docs/extensions)
  - [Get Started](https://developer.chrome.com/docs/extensions/get-started)
  - [Develop](https://developer.chrome.com/docs/extensions/develop)
  - [How To](https://developer.chrome.com/docs/extensions/how-to)
  - [AI](https://developer.chrome.com/docs/extensions/ai)
  - [Reference](https://developer.chrome.com/docs/extensions/reference)
  - [Samples](https://developer.chrome.com/docs/extensions/samples)
  - [Chrome Web Store](https://developer.chrome.com/docs/webstore)

- [Case studies](https://developer.chrome.com/case-studies)
- [Blog](https://developer.chrome.com/blog)
- [New in Chrome](https://developer.chrome.com/new)

- Manifest V3

- [➡ Manifest V2](https://developer.chrome.com/docs/extensions/mv2/reference)
- [accessibilityFeatures](https://developer.chrome.com/docs/extensions/reference/api/accessibilityFeatures)
- [action](https://developer.chrome.com/docs/extensions/reference/api/action)
- [alarms](https://developer.chrome.com/docs/extensions/reference/api/alarms)
- [audio](https://developer.chrome.com/docs/extensions/reference/api/audio)
- [bookmarks](https://developer.chrome.com/docs/extensions/reference/api/bookmarks)
- [browsingData](https://developer.chrome.com/docs/extensions/reference/api/browsingData)
- [certificateProvider](https://developer.chrome.com/docs/extensions/reference/api/certificateProvider)
- [commands](https://developer.chrome.com/docs/extensions/reference/api/commands)
- [contentSettings](https://developer.chrome.com/docs/extensions/reference/api/contentSettings)
- [contextMenus](https://developer.chrome.com/docs/extensions/reference/api/contextMenus)
- [cookies](https://developer.chrome.com/docs/extensions/reference/api/cookies)
- [debugger](https://developer.chrome.com/docs/extensions/reference/api/debugger)
- [declarativeContent](https://developer.chrome.com/docs/extensions/reference/api/declarativeContent)
- [declarativeNetRequest](https://developer.chrome.com/docs/extensions/reference/api/declarativeNetRequest)
- [desktopCapture](https://developer.chrome.com/docs/extensions/reference/api/desktopCapture)
- [devtools.inspectedWindow](https://developer.chrome.com/docs/extensions/reference/api/devtools/inspectedWindow)
- [devtools.network](https://developer.chrome.com/docs/extensions/reference/api/devtools/network)
- [devtools.panels](https://developer.chrome.com/docs/extensions/reference/api/devtools/panels)
- [devtools.performance](https://developer.chrome.com/docs/extensions/reference/api/devtools/performance)
- [devtools.recorder](https://developer.chrome.com/docs/extensions/reference/api/devtools/recorder)
- [dns](https://developer.chrome.com/docs/extensions/reference/api/dns)
- [documentScan](https://developer.chrome.com/docs/extensions/reference/api/documentScan)
- [dom](https://developer.chrome.com/docs/extensions/reference/api/dom)
- [downloads](https://developer.chrome.com/docs/extensions/reference/api/downloads)
- [enterprise.deviceAttributes](https://developer.chrome.com/docs/extensions/reference/api/enterprise/deviceAttributes)
- [enterprise.hardwarePlatform](https://developer.chrome.com/docs/extensions/reference/api/enterprise/hardwarePlatform)
- [enterprise.login](https://developer.chrome.com/docs/extensions/reference/api/enterprise/login)
- [enterprise.networkingAttributes](https://developer.chrome.com/docs/extensions/reference/api/enterprise/networkingAttributes)
- [enterprise.platformKeys](https://developer.chrome.com/docs/extensions/reference/api/enterprise/platformKeys)
- [events](https://developer.chrome.com/docs/extensions/reference/api/events)
- [extension](https://developer.chrome.com/docs/extensions/reference/api/extension)
- [extensionTypes](https://developer.chrome.com/docs/extensions/reference/api/extensionTypes)
- [fileBrowserHandler](https://developer.chrome.com/docs/extensions/reference/api/fileBrowserHandler)
- [fileSystemProvider](https://developer.chrome.com/docs/extensions/reference/api/fileSystemProvider)
- [fontSettings](https://developer.chrome.com/docs/extensions/reference/api/fontSettings)
- [gcm](https://developer.chrome.com/docs/extensions/reference/api/gcm)
- [history](https://developer.chrome.com/docs/extensions/reference/api/history)
- [i18n](https://developer.chrome.com/docs/extensions/reference/api/i18n)
- [identity](https://developer.chrome.com/docs/extensions/reference/api/identity)
- [idle](https://developer.chrome.com/docs/extensions/reference/api/idle)
- [input.ime](https://developer.chrome.com/docs/extensions/reference/api/input/ime)
- [instance ID](https://developer.chrome.com/docs/extensions/reference/api/instanceID)
- [login State](https://developer.chrome.com/docs/extensions/reference/api/loginState)
- [management](https://developer.chrome.com/docs/extensions/reference/api/management)
- [notifications](https://developer.chrome.com/docs/extensions/reference/api/notifications)
- [offscreen](https://developer.chrome.com/docs/extensions/reference/api/offscreen)
- [omnibox](https://developer.chrome.com/docs/extensions/reference/api/omnibox)
- [page Capture](https://developer.chrome.com/docs/extensions/reference/api/pageCapture)
- [permissions](https://developer.chrome.com/docs/extensions/reference/api/permissions)
- [platform Keys](https://developer.chrome.com/docs/extensions/reference/api/platformKeys)
- [power](https://developer.chrome.com/docs/extensions/reference/api/power)
- [printer Provider](https://developer.chrome.com/docs/extensions/reference/api/printerProvider)
- [printing](https://developer.chrome.com/docs/extensions/reference/api/printing)
- [printing Metrics](https://developer.chrome.com/docs/extensions/reference/api/printingMetrics)
- [privacy](https://developer.chrome.com/docs/extensions/reference/api/privacy)
- [processes](https://developer.chrome.com/docs/extensions/reference/api/processes)
- [proxy](https://developer.chrome.com/docs/extensions/reference/api/proxy)
- [reading List](https://developer.chrome.com/docs/extensions/reference/api/readingList)
- [runtime](https://developer.chrome.com/docs/extensions/reference/api/runtime)
- [scripting](https://developer.chrome.com/docs/extensions/reference/api/scripting)
- [search](https://developer.chrome.com/docs/extensions/reference/api/search)
- [sessions](https://developer.chrome.com/docs/extensions/reference/api/sessions)
- [sidePanel](https://developer.chrome.com/docs/extensions/reference/api/sidePanel)
- [storage](https://developer.chrome.com/docs/extensions/reference/api/storage)
- [system.cpu](https://developer.chrome.com/docs/extensions/reference/api/system/cpu)
- [system.display](https://developer.chrome.com/docs/extensions/reference/api/system/display)
- [system.memory](https://developer.chrome.com/docs/extensions/reference/api/system/memory)
- [system.storage](https://developer.chrome.com/docs/extensions/reference/api/system/storage)
- [systemLog](https://developer.chrome.com/docs/extensions/reference/api/systemLog)
- [tabCapture](https://developer.chrome.com/docs/extensions/reference/api/tabCapture)
- [tabGroups](https://developer.chrome.com/docs/extensions/reference/api/tabGroups)
- [tabs](https://developer.chrome.com/docs/extensions/reference/api/tabs)
- [topSites](https://developer.chrome.com/docs/extensions/reference/api/topSites)
- [tts](https://developer.chrome.com/docs/extensions/reference/api/tts)
- [ttsEngine](https://developer.chrome.com/docs/extensions/reference/api/ttsEngine)
- [types](https://developer.chrome.com/docs/extensions/reference/api/types)
- [userScripts](https://developer.chrome.com/docs/extensions/reference/api/userScripts)
- [vpnProvider](https://developer.chrome.com/docs/extensions/reference/api/vpnProvider)
- [wallpaper](https://developer.chrome.com/docs/extensions/reference/api/wallpaper)
- [webAuthenticationProxy](https://developer.chrome.com/docs/extensions/reference/api/webAuthenticationProxy)
- [webNavigation](https://developer.chrome.com/docs/extensions/reference/api/webNavigation)
- [webRequest](https://developer.chrome.com/docs/extensions/reference/api/webRequest)
- [windows](https://developer.chrome.com/docs/extensions/reference/api/windows)

chrome.platform Keys
bookmark_border Stay organized with collections Save and categorize content based on your preferences.

---

- On this page
- [Description](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#description)
- [Permissions](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#permissions)
- [Availability](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#availability)
- [Types](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type)
  - [ClientCertificateRequest](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-ClientCertificateRequest)
  - [ClientCertificateType](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-ClientCertificateType)
  - [Match](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-Match)
  - [SelectDetails](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-SelectDetails)
  - [VerificationDetails](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-VerificationDetails)
  - [VerificationResult](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-VerificationResult)

- [Methods](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method)
  - [getKeyPair()](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-getKeyPair)
  - [getKeyPairBySpki()](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-getKeyPairBySpki)
  - [selectClientCertificates()](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-selectClientCertificates)
  - [subtleCrypto()](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-subtleCrypto)
  - [verifyTLSServerCertificate()](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-verifyTLSServerCertificate)

## Description

Use the `chrome.platformKeys` API to access client certificates managed by the platform. If the user or policy grants the permission, an extension can use such a certficate in its custom authentication protocol. E.g. this allows usage of platform managed certificates in third party VPNs (see [chrome.vpnProvider](https://developer.chrome.com/docs/extensions/reference/vpnProvider/)).

## Permissions

`platformKeys`

## Availability

Chrome 45+ ChromeOS only

## Types

### Client Certificate Request

#### Properties

- ArrayBuffer[]
  List of distinguished names of certificate authorities allowed by the server. Each entry must be a DER-encoded X.509 DistinguishedName.

- certificateTypes
  This field is a list of the types of certificates requested, sorted in order of the server's preference. Only certificates of a type contained in this list will be retrieved. If `certificateTypes` is the empty list, however, certificates of any type will be returned.

### Client Certificate Type

#### Enum

"rsaSign"

"ecdsaSign"

### Match

#### Properties

- certificate

ArrayBuffer
The DER encoding of a X.509 certificate.

- keyAlgorithm

object
The [KeyAlgorithm](https://www.w3.org/TR/WebCryptoAPI/#key-algorithm-dictionary) of the certified key. This contains algorithm parameters that are inherent to the key of the certificate (e.g. the key length). Other parameters like the hash function used by the sign function are not included.

### Select Details

#### Properties

- clientCerts

ArrayBuffer[]optional
If given, the `selectClientCertificates` operates on this list. Otherwise, obtains the list of all certificates from the platform's certificate stores that are available to this extensions. Entries that the extension doesn't have permission for or which doesn't match the request, are removed.

- interactive

boolean
If true, the filtered list is presented to the user to manually select a certificate and thereby granting the extension access to the certificate(s) and key(s). Only the selected certificate(s) will be returned. If is false, the list is reduced to all certificates that the extension has been granted access to (automatically or manually).

- request
  Only certificates that match this request will be returned.

### VerificationDetails

#### Properties

- hostname

string
The hostname of the server to verify the certificate for, e.g. the server that presented the `serverCertificateChain`.

- serverCertificateChain

ArrayBuffer[]
Each chain entry must be the DER encoding of a X.509 certificate, the first entry must be the server certificate and each entry must certify the entry preceding it.

### VerificationResult

#### Properties

- debug_errors

string[]
If the trust verification failed, this array contains the errors reported by the underlying network layer. Otherwise, this array is empty.

**Note:** This list is meant for debugging only and may not contain all relevant errors. The errors returned may change in future revisions of this API, and are not guaranteed to be forwards or backwards compatible.

- trusted

boolean
The result of the trust verification: true if trust for the given verification details could be established and false if trust is rejected for any reason.

## Methods

### getKeyPair()

chrome.platformKeys.getKeyPair(

  certificate: ArrayBuffer,

  parameters: object,

  callback: function,

): void

Passes the key pair of `certificate` for usage with [`platformKeys.subtleCrypto`](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-subtleCrypto) to `callback`.

#### Parameters

- certificate

ArrayBuffer
The certificate of a [`Match`](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-Match) returned by [`selectClientCertificates`](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-selectClientCertificates).

- parameters

object
Determines signature/hash algorithm parameters additionally to the parameters fixed by the key itself. The same parameters are accepted as by WebCrypto's [importKey](https://www.w3.org/TR/WebCryptoAPI/#SubtleCrypto-method-importKey) function, e.g. `RsaHashedImportParams` for a RSASSA-PKCS1-v1_5 key and `EcKeyImportParams` for EC key. Additionally for RSASSA-PKCS1-v1_5 keys, hashing algorithm name parameter can be specified with one of the following values: "none", "SHA-1", "SHA-256", "SHA-384", or "SHA-512", e.g. `{"hash": { "name": "none" } }`. The sign function will then apply PKCS#1 v1.5 padding but not hash the given data.

Currently, this method only supports the "RSASSA-PKCS1-v1_5" and "ECDSA" algorithms.

- callback

function
The `callback` parameter looks like:

(publicKey: object, privateKey?: object)=> void

    *   publicKey

object \* privateKey

object optional
Might be `null` if this extension does not have access to it.

### getKeyPairBySpki()

Chrome 85+

chrome.platformKeys.getKeyPairBySpki(

  publicKeySpkiDer: ArrayBuffer,

  parameters: object,

  callback: function,

): void

Passes the key pair identified by `publicKeySpkiDer` for usage with [`platformKeys.subtleCrypto`](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#method-subtleCrypto) to `callback`.

#### Parameters

- publicKeySpkiDer

ArrayBuffer
A DER-encoded X.509 SubjectPublicKeyInfo, obtained e.g. by calling WebCrypto's exportKey function with format="spki".

- parameters

object
Provides signature and hash algorithm parameters, in addition to those fixed by the key itself. The same parameters are accepted as by WebCrypto's [importKey](https://www.w3.org/TR/WebCryptoAPI/#SubtleCrypto-method-importKey) function, e.g. `RsaHashedImportParams` for a RSASSA-PKCS1-v1_5 key. For RSASSA-PKCS1-v1_5 keys, we need to also pass a "hash" parameter `{ "hash": { "name": string } }`. The "hash" parameter represents the name of the hashing algorithm to be used in the digest operation before a sign. It is possible to pass "none" as the hash name, in which case the sign function will apply PKCS#1 v1.5 padding and but not hash the given data.

Currently, this method supports the "ECDSA" algorithm with named-curve P-256 and "RSASSA-PKCS1-v1_5" algorithm with one of the hashing algorithms "none", "SHA-1", "SHA-256", "SHA-384", and "SHA-512".

- callback

function
The `callback` parameter looks like:

(publicKey: object, privateKey?: object)=> void

    *   publicKey

object \* privateKey

object optional
Might be `null` if this extension does not have access to it.

### selectClientCertificates()

chrome.platformKeys.selectClientCertificates(

  details: [SelectDetails](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-SelectDetails),

): Promise<[Match](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-Match)[]>

This method filters from a list of client certificates the ones that are known to the platform, match `request` and for which the extension has permission to access the certificate and its private key. If `interactive` is true, the user is presented a dialog where they can select from matching certificates and grant the extension access to the certificate. The selected/filtered client certificates will be passed to `callback`.

#### Parameters

- details

#### Returns

- Chrome 121+

### subtleCrypto()

chrome.platformKeys.subtleCrypto(): object | undefined

An implementation of WebCrypto's [SubtleCrypto](https://www.w3.org/TR/WebCryptoAPI/#subtlecrypto-interface) that allows crypto operations on keys of client certificates that are available to this extension.

#### Returns

- object|undefined

### verifyTLSServerCertificate()

chrome.platformKeys.verifyTLSServerCertificate(

  details: [VerificationDetails](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-VerificationDetails),

): Promise<[VerificationResult](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-VerificationResult)>

Checks whether `details.serverCertificateChain` can be trusted for `details.hostname` according to the trust settings of the platform. Note: The actual behavior of the trust verification is not fully specified and might change in the future. The API implementation verifies certificate expiration, validates the certification path and checks trust by a known CA. The implementation is supposed to respect the EKU serverAuth and to support subject alternative names.

#### Parameters

- details

#### Returns

- Promise<[VerificationResult](https://developer.chrome.com/docs/extensions/reference/api/platformKeys#type-VerificationResult)> Chrome 121+

Except as otherwise noted, the content of this page is licensed under the [Creative Commons Attribution 4.0 License](https://creativecommons.org/licenses/by/4.0/), and code samples are licensed under the [Apache 2.0 License](https://www.apache.org/licenses/LICENSE-2.0). For details, see the [Google Developers Site Policies](https://developers.google.com/site-policies). Java is a registered trademark of Oracle and/or its affiliates.

Last updated 2025-08-11 UTC.
